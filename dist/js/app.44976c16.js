(()=>{"use strict";var e={81087:(e,t,a)=>{a.d(t,{Z:()=>r});a(41539),a(21703),a(96647),a(78783),a(33948),a(60285),a(41637);function i(e){e.thisCancas=document.getElementById(e.canvasId),e.thisContext=e.thisCancas.getContext("2d"),e.thisVideo=document.getElementById(e.videoId),e.thisVideo.style.display="block",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return t?new Promise((function(a,i){t.call(navigator,e,a,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var t={audio:!1,video:{width:e.videoWidth,height:e.videoHeight,transform:"scaleX(-1)"}};return navigator.mediaDevices.getUserMedia(t).then((function(t){"srcObject"in e.thisVideo?e.thisVideo.srcObject=t:e.thisVideo.src=window.URL.createObjectURL(t),e.thisVideo.onloadedmetadata=function(t){e.thisVideo.play()}}))["catch"]((function(e){console.log(e)})),e}function n(e){return e.thisContext.drawImage(e.thisVideo,0,0,e.videoWidth,e.videoHeight),e.thisCancas.toDataURL("image/png")}const r={getCamera:i,draw:n}},8720:(e,t,a)=>{a(66992),a(88674),a(19601),a(17727);var i=a(36369),n=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},r=[];const o={name:"app",components:{}},s=o;var c=a(43736),d=(0,c.Z)(s,n,r,!1,null,null,null);const l=d.exports;a(41539),a(78783),a(33948);var u=a(72631),f=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"login"}),t("div",{staticClass:"login-mid"},[e._m(0),t("div",{staticClass:"login-mid-mid"},[t("div",{staticClass:"videoCamera-canvasCamera"},[t("video",{attrs:{id:"videoCamera",width:e.videoWidth,height:e.videoHeight,autoplay:""}}),t("canvas",{staticStyle:{display:"none"},attrs:{id:"canvasCamera",width:e.videoWidth,height:e.videoHeight}}),e.faceImgState?t("div",{staticClass:"face-special-effects-2"}):t("div",{staticClass:"face-special-effects"})]),t("div",{staticClass:"face-btn"},[t("button",{on:{click:function(t){return e.faceVef()}}},[e._v(e._s(e.faceImgState?"正在识别中...":"开始识别"))])]),t("div",{staticClass:"msg"},[t("div",{staticClass:"server-msg"},[e._v(e._s(e.msg))]),t("div",{staticClass:"welcome"},[e._v("Welcome to face recognition")])])]),e._m(1)])])},v=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-mid-top"},[t("div",{staticClass:"shadow-top-left"}),t("div",{staticClass:"shadow-top-right"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-mid-bot"},[t("div",{staticClass:"shadow-bot-left"}),t("div",{staticClass:"shadow-bot-right"})])}],h=(a(68309),a(81087));const m={data:function(){return{videoWidth:200,videoHeight:200,msg:"",faceImgState:!1,faceOption:{}}},mounted:function(){this.faceOption=h.Z.getCamera({videoWidth:200,videoHeight:200,thisCancas:null,thisContext:null,thisVideo:null,canvasId:"canvasCamera",videoId:"videoCamera"})},methods:{faceVef:function(){var e=this,t=h.Z.draw(this.faceOption);this.faceImgState||(this.faceImgState=!0,""===t||null===t||void 0===t?this.$message.error("图片数据为空"):this.$http.post("/face/vef",{imageBase:t}).then((function(t){console.log(t),e.faceImgState=!1,200===t.data.code&&(e.faceOption.thisVideo.srcObject.getTracks()[0].stop(),localStorage.setItem("face_token",t.data.token),localStorage.setItem("username",t.data.name),e.$message.success(t.data.msg),e.$router.push("/home")),201===t.data.code&&e.$message.success(t.data.msg)}),(function(t){e.faceImgState=!1})))}}},g=m;var p=(0,c.Z)(g,f,v,!1,null,null,null);const b=p.exports;var C=function(){var e=this;e._self._c;return e._m(0)},y=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"desktop"},[t("div",{staticClass:"desktop-main"}),t("div",{staticClass:"author-title"},[t("p",[e._v("Intelligence Face Recognition System")]),t("p",[e._v("Author: Sun Maojun")]),t("p",[e._v("Some images are from the internet, if there is any infringement, please contact us for deletion.")])])])}];const _={name:"index"},w=_;var k=(0,c.Z)(w,C,y,!1,null,null,null);const S=k.exports;i["default"].use(u.Z);var O=[{path:"/",name:"login",component:b},{path:"/home",name:"home",component:function(){return a.e(887).then(a.bind(a,29887))},redirect:"/desktop",children:[{path:"/desktop",name:"desktop",component:S},{path:"/faceList",name:"face",component:function(){return a.e(464).then(a.bind(a,28464))}},{path:"/faceLog",name:"log",component:function(){return a.e(769).then(a.bind(a,34769))}}]}],j=new u.Z({routes:O});j.beforeEach((function(e,t,a){if("/"===e.path)return a();var i=localStorage.getItem("face_token");if(!i)return a("/");a()}));const I=j;var E=a(8499),x=a.n(E);i["default"].use(x());var M=a(56265),T=a.n(M);T().defaults.baseURL="https://pdf.xuyijie.icu/";var U=T().create({timeout:15e3,headers:{"Content-Type":"application/json; charset=utf-8"}});U.interceptors.request.use((function(e){return e.headers["face_token"]=localStorage.getItem("face_token"),e})),U.interceptors.response.use((function(e){return 200===e.data.code||201===e.data.code?e:(x().Message.error(e.data.msg,{duration:3e3}),Promise.reject(e.data.msg))}),(function(e){return x().Message.error(e.msg,{duration:3e3}),Promise.reject(e)}));const V=U;i["default"].config.productionTip=!1,i["default"].prototype.$http=V,new i["default"]({router:I,render:function(e){return e(l)}}).$mount("#app")}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.m=e,(()=>{var e=[];a.O=(t,i,n,r)=>{if(!i){var o=1/0;for(l=0;l<e.length;l++){for(var[i,n,r]=e[l],s=!0,c=0;c<i.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](i[c])))?i.splice(c--,1):(s=!1,r<o&&(o=r));if(s){e.splice(l--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[i,n,r]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,i)=>(a.f[i](e,t),t)),[]))})(),(()=>{a.u=e=>"js/"+e+"."+{464:"f5f71af7",769:"55574c05",887:"5b15a54f"}[e]+".js"})(),(()=>{a.miniCssF=e=>"css/"+e+"."+{464:"b58983e5",769:"e3386ee4",887:"851734c2"}[e]+".css"})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="face-ui:";a.l=(i,n,r,o)=>{if(e[i])e[i].push(n);else{var s,c;if(void 0!==r)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+r),s.src=i),e[i]=[n];var f=(t,a)=>{s.onerror=s.onload=null,clearTimeout(v);var n=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(a))),t)return t(a)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p=""})(),(()=>{var e=(e,t,a,i)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var r=r=>{if(n.onerror=n.onload=null,"load"===r.type)a();else{var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,n.parentNode.removeChild(n),i(c)}};return n.onerror=n.onload=r,n.href=t,document.head.appendChild(n),n},t=(e,t)=>{for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var n=a[i],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){n=o[i],r=n.getAttribute("data-href");if(r===e||r===t)return n}},i=i=>new Promise(((n,r)=>{var o=a.miniCssF(i),s=a.p+o;if(t(o,s))return n();e(i,s,n,r)})),n={143:0};a.f.miniCss=(e,t)=>{var a={464:1,769:1,887:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=i(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))}})(),(()=>{var e={143:0};a.f.j=(t,i)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise(((a,i)=>n=e[t]=[a,i]));i.push(n[2]=r);var o=a.p+a.u(t),s=new Error,c=i=>{if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}};a.l(o,c,"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,i)=>{var n,r,[o,s,c]=i,d=0;if(o.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var l=c(a)}for(t&&t(i);d<o.length;d++)r=o[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(l)},i=self["webpackChunkface_ui"]=self["webpackChunkface_ui"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=a.O(void 0,[998],(()=>a(8720)));i=a.O(i)})();
//# sourceMappingURL=app.44976c16.js.map